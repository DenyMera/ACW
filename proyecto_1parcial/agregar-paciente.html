<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Agregar Paciente - Policlínico</title>
    <!--
      Esta página muestra un formulario para crear un nuevo paciente.
      Se enlaza style-encuentro.css para dar estilos al formulario; si se quiere cambiar
      la apariencia, se edita ese archivo CSS.
    -->
    <link rel="stylesheet" href="style-encuentro.css"> 
</head>
<body>
    <!--
      .form-container agrupa todo el formulario para poder centrarlo y aplicar estilos
      de manera sencilla desde la hoja de estilos.
    -->
    <div class="form-container">
        <!--
          Formulario principal con id="form-paciente".
          El script agregar-paciente.js busca este id para manejar el envío y validaciones.
        -->
        <form id="form-paciente">
            <h2>Datos del Nuevo Paciente</h2>
            
            <!--
              Grupo de entrada para el nombre completo.
              Se marca como required porque es información básica del paciente.
            -->
            <div class="input-group">
                <label for="nombre">Nombre Completo</label>
                <input type="text" id="nombre" required>
            </div>
            
            <!--
              Grupo para la Cédula de Identidad (CI).
              - pattern="\d{10}" y maxlength="10" ayudan a que el navegador valide que sean 10 dígitos.
              - title muestra una pista si el usuario ingresa un valor incorrecto.
              Esta CI también se usa como nombre de usuario, por eso es importante que sea correcta.
            -->
            <div class="input-group">
                <label for="ci">Cédula de Identidad (CI)</label>
                <input type="text" id="ci" required 
                       pattern="\d{10}" 
                       maxlength="10" 
                       title="Debe ingresar 10 dígitos numéricos.">
            </div>

            <!--
              Edad del paciente: se usa un input tipo number para facilitar la entrada.
              Se marca como required porque suele ser información obligatoria.
            -->
            <div class="input-group">
                <label for="edad">Edad</label>
                <input type="number" id="edad" required>
            </div>

            <!--
              Teléfono:
              - Se usa type="tel" para semántica; pattern y maxlength ayudan a validar 10 dígitos.
              - No está marcado como required, por eso el usuario puede dejarlo vacío.
            -->
            <div class="input-group">
                <label for="telefono">Teléfono</label>
                <input type="tel" id="telefono" 
                       pattern="\d{10}" 
                       maxlength="10" 
                       title="Debe ingresar 10 dígitos numéricos (opcional).">
            </div>

            <!--
              Email opcional; el tipo email hace una validación básica en el navegador.
            -->
            <div class="input-group">
                <label for="email">Email</label>
                <input type="email" id="email">
            </div>

            <!--
              Campo de solo lectura que muestra el nombre de usuario que se generará.
              - Se usa readonly para evitar que el usuario lo cambie manualmente.
              - El script puede copiar automáticamente la CI a este campo para que el usuario vea su usuario.
            -->
            <div class="input-group">
                <label>Nombre de Usuario (Será la CI)</label>
                <input type="text" id="ci-display" readonly style="background-color: #eee;" placeholder="Se usará la CI de arriba">
            </div>

            <!--
              Contraseña obligatoria: tipo password oculta lo escrito por seguridad.
            -->
            <div class="input-group">
                <label for="password">Contraseña</label>
                <input type="password" id="password" required>
            </div>
            
            <!--
              Alergias conocidas: textarea para permitir varias líneas y detalles.
              Es útil para que el personal médico vea riesgos al atender al paciente.
            -->
            <div class="input-group">
                <label for="alergias">Alergias Conocidas</label>
                <textarea id="alergias" rows="3" placeholder="Ej: Penicilina, Mariscos..."></textarea>
            </div>
            
            <!--
              Botones de acción al final del formulario:
              - "Guardar Paciente" es de tipo submit; al pulsarlo el script interceptará el envío
                para validar y guardar los datos (localStorage, servidor o lo que implemente el proyecto).
              - "Regresar" lleva a doctor.html; actúa como salida si el usuario decide no guardar.
            -->
            <div class="button-group">
                <button type="submit" class="btn btn-primary">Guardar Paciente</button>
                <a href="doctor.html" class="btn btn-back">Regresar</a>
            </div>
        </form>
    </div>

    <!--
      Script que contiene la lógica para:
      - manejar el submit del formulario,
      - validar valores adicionales (por ejemplo comprobar que la CI no esté repetida),
      - copiar la CI al campo ci-display para mostrar el nombre de usuario,
      - y guardar el nuevo paciente donde el proyecto lo espere.
      Si algo no funciona, revisar la consola del navegador (F12) para ver errores.
    -->
    <script src="agregar-paciente.js"></script>
</body>
</html>